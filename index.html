<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Game Designer Portfolio</title>

  <style>
    :root{
      --side-pad: clamp(14px, 4vw, 64px);
      --pfw: 200vw;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: radial-gradient(circle at 30% 30%, #141427 0%, #0b0b10 55%, #07070b 100%);
      color: #fff;
      overflow-x: hidden;
    }

    #starfield {
      position: fixed;
      inset: 0;
      z-index: 0;
      pointer-events: none;
    }

    .space-layer {
      position: fixed;
      inset: 0;
      z-index: 1;
      pointer-events: none;
      overflow: hidden;
    }

    #planets-host,
    #bg-blackhole-host {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
    }

    header {
      padding: 1.2rem var(--side-pad);
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: fixed;
      width: 100%;
      top: 0;
      z-index: 1000;
      background: rgba(10, 10, 10, 0.65);
      backdrop-filter: blur(14px);
      transition: all 0.3s ease;
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
    }

    .logo {
      font-size: 1.8rem;
      font-weight: bold;
      background: linear-gradient(45deg, #ffffff, #cccccc);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    nav a {
      color: #fff;
      text-decoration: none;
      margin-left: 2rem;
      transition: all 0.25s;
      font-weight: 500;
      position: relative;
      padding: 0.5rem 0;
    }

    nav a::before {
      content: '';
      position: absolute;
      bottom: 0; left: 0;
      width: 0;
      height: 2px;
      background: #ffffff;
      transition: width 0.25s;
    }

    nav a:hover::before { width: 100%; }
    nav a:hover { text-shadow: 0 0 10px rgba(255,255,255,0.45); }

    .hero {
      height: 100vh;
      min-height: 100vh;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      position: relative;
      overflow: hidden;
      z-index: 10;
      cursor: none;
      padding-top: 90px;
    }

    .score-hud{
      position: absolute;
      top: 90px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 40;
      pointer-events: none;
      padding: 10px 16px;
      border-radius: 999px;
      background: rgba(0,0,0,0.35);
      border: 1px solid rgba(255,255,255,0.10);
      backdrop-filter: blur(10px);
      display: inline-flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
      letter-spacing: 0.2px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    }
    .score-dot{
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: rgba(255,255,255,0.75);
      box-shadow: 0 0 10px rgba(255,255,255,0.25);
      flex: 0 0 auto;
    }
    .score-text{
      font-size: 0.95rem;
      color: rgba(255,255,255,0.9);
      text-shadow: 0 0 12px rgba(255,255,255,0.12);
      white-space: nowrap;
    }
    .score-text strong{ color: #fff; }

    .hero-content { z-index: 30; padding: 2rem; }

    .hero h1 {
      font-size: 4rem;
      margin-bottom: 1rem;
      text-shadow: 0 0 18px rgba(255, 255, 255, 0.22);
      animation: fadeInUp 0.9s ease;
    }

    .hero .subtitle {
      font-size: 1.5rem;
      color: #cccccc;
      margin-bottom: 1rem;
      animation: fadeInUp 0.9s ease 0.12s backwards;
    }

    .hero .specialization {
      font-size: 1.2rem;
      color: #ffffff;
      margin-bottom: 2rem;
      animation: fadeInUp 0.9s ease 0.18s backwards;
      display: inline-block;
      padding: 1rem 2rem;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 50px;
      backdrop-filter: blur(10px);
    }

    .tools {
      display: flex;
      gap: 1.2rem;
      justify-content: center;
      margin-bottom: 2rem;
      flex-wrap: wrap;
      animation: fadeInUp 0.9s ease 0.25s backwards;
    }

    .tool-badge {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.75rem 1.3rem;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.18);
      border-radius: 50px;
      font-size: 1rem;
      color: #e0e0e0;
      backdrop-filter: blur(10px);
    }

    .cta-button {
      display: inline-block;
      padding: 1rem 2.5rem;
      background: linear-gradient(45deg, #666666, #888888);
      color: #fff;
      text-decoration: none;
      border-radius: 50px;
      font-weight: bold;
      transition: transform 0.2s, box-shadow 0.2s;
      animation: fadeInUp 0.9s ease 0.32s backwards;
      box-shadow: 0 8px 26px rgba(255, 255, 255, 0.10);
    }

    .cta-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 14px 40px rgba(255, 255, 255, 0.18);
    }

    .playfield {
      position: absolute;
      top: 0;
      left: 50%;
      width: var(--pfw, 200vw);
      height: 100%;
      transform: translateX(-50%);
      z-index: 25;
      pointer-events: none;
      overflow: visible;
      contain: layout paint;
    }

    .cursor-bh {
      position: absolute;
      width: 86px;
      height: 86px;
      border-radius: 50%;
      pointer-events: none;
      z-index: 18;
      opacity: 0;
      transform: translate(-50%, -50%);
      transition: opacity 0.15s ease;
    }
    .cursor-bh.active { opacity: 1; }

    .black-hole-container { position: absolute; z-index: 3; pointer-events: none; }
    .black-hole {
      position: absolute;
      border-radius: 50%;
      background: radial-gradient(circle at 35% 35%,
        #000 0%, #000 26%, #0a0a0a 32%, transparent 42%);
      box-shadow:
        inset 0 0 34px rgba(0,0,0,1),
        0 0 20px rgba(0,0,0,0.60);
      animation: rotateBH 80s linear infinite;
    }

    .black-hole::after {
      content: '';
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      width: 185%;
      height: 185%;
      border-radius: 50%;
      background: radial-gradient(ellipse at center,
        transparent 35%,
        rgba(170, 190, 220, 0.08) 41%,
        rgba(120, 140, 170, 0.12) 46%,
        rgba(70, 85, 105, 0.10) 52%,
        rgba(30, 35, 45, 0.06) 60%,
        transparent 72%);
      animation: rotateDisk 72s linear infinite;
      opacity: 0.85;
    }

    .bh-flow {
      position: absolute;
      inset: -15%;
      border-radius: 50%;
      background: conic-gradient(
        from 0deg,
        rgba(255,255,255,0.00) 0deg,
        rgba(255,255,255,0.04) 90deg,
        rgba(255,255,255,0.00) 180deg,
        rgba(255,255,255,0.03) 270deg,
        rgba(255,255,255,0.00) 360deg
      );
      opacity: 0.18;
      animation: rotateFlow 68s linear infinite;
      -webkit-mask-image: radial-gradient(circle, rgba(0,0,0,1) 35%, rgba(0,0,0,0) 72%);
      mask-image: radial-gradient(circle, rgba(0,0,0,1) 35%, rgba(0,0,0,0) 72%);
    }

    @keyframes rotateBH { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    @keyframes rotateDisk { from { transform: translate(-50%, -50%) rotate(0deg); } to { transform: translate(-50%, -50%) rotate(360deg); } }
    @keyframes rotateFlow { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

    .cursor-bh .black-hole { inset: 0; width: 100%; height: 100%; animation: rotateBH 40s linear infinite; }
    .cursor-bh .black-hole::after { animation: rotateDisk 36s linear infinite; }
    .cursor-bh .bh-flow { animation: rotateFlow 34s linear infinite; opacity: 0.16; }

    .planet {
      position: absolute;
      border-radius: 50%;
      pointer-events: none;
      z-index: 2;
      will-change: transform;
      opacity: 0.75;
    }

    .planet .shade {
      position: absolute;
      inset: 0;
      border-radius: 50%;
      background: radial-gradient(circle at 72% 55%,
        rgba(0,0,0,0) 30%,
        rgba(0,0,0,0.55) 70%,
        rgba(0,0,0,0.75) 100%);
      opacity: 0.95;
    }

    .planet .atm {
      position: absolute;
      inset: -10%;
      border-radius: 50%;
      background: radial-gradient(circle,
        rgba(140,190,255,0.08) 0%,
        rgba(120,180,255,0.03) 35%,
        rgba(0,0,0,0) 62%);
      opacity: 0.9;
    }

    .drift-a { animation: driftA 140s ease-in-out infinite; }
    .drift-b { animation: driftB 170s ease-in-out infinite; }
    .drift-c { animation: driftC 155s ease-in-out infinite; }

    @keyframes driftA { 0%,100% { transform: translate3d(0,0,0); } 50% { transform: translate3d(-14px, 10px, 0); } }
    @keyframes driftB { 0%,100% { transform: translate3d(0,0,0); } 50% { transform: translate3d(12px, -9px, 0); } }
    @keyframes driftC { 0%,100% { transform: translate3d(0,0,0); } 50% { transform: translate3d(-10px, -10px, 0); } }

    .spaceship, .asteroid {
      position: absolute;
      pointer-events: none;
      will-change: transform, left, top, opacity;
      z-index: 30;
      opacity: 0.92;
    }

    .spaceship {
      width: 55px;
      height: 55px;
      filter: drop-shadow(0 0 8px rgba(60, 100, 140, 0.30));
    }
    .spaceship svg { width: 100%; height: 100%; }

    .trail {
      position: absolute;
      width: 66px;
      height: 4px;
      background: linear-gradient(90deg,
        rgba(80, 130, 180, 0.40),
        rgba(120, 170, 220, 0.16),
        transparent
      );
      border-radius: 50%;
      opacity: 0.65;
      right: 100%;
      top: 50%;
      transform: translateY(-50%);
    }

    .asteroid {
      width: 46px;
      height: 46px;
      filter: drop-shadow(0 0 10px rgba(255,255,255,0.08));
      opacity: 0.86;
    }

    section, footer { position: relative; z-index: 10; }
    section {
      width: 100%;
      margin: 0;
      padding: 5rem var(--side-pad);
      max-width: none;
    }

    h2 {
      font-size: 2.5rem;
      margin-bottom: 3rem;
      text-align: center;
      background: linear-gradient(45deg, #ffffff, #aaaaaa);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      width: 100%;
    }

    .projects-grid {
      width: 100%;
      max-width: 1100px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr;
      gap: 2rem;
    }

    .project-card {
      background: rgba(255, 255, 255, 0.03);
      border-radius: 20px;
      overflow: hidden;
      transition: transform 0.25s ease, box-shadow 0.25s ease;
      border: 1px solid rgba(255, 255, 255, 0.1);
      cursor: pointer;
    }
    .project-card:hover {
      transform: translateY(-6px);
      box-shadow: 0 22px 50px rgba(0, 0, 0, 0.50);
      border-color: rgba(255, 255, 255, 0.22);
    }

    .project-card.is-hidden { display: none; }

    .project-image {
      width: 100%;
      height: 580px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3rem;
      position: relative;
      overflow: hidden;
      background: #000;
      border-bottom: 1px solid rgba(255,255,255,0.08);
    }

    .project-image video{
      width: 100%;
      height: 100%;
      object-fit: contain;
      object-position: center center;
      display: block;
      background: #000;
      transform: none;
    }

    #project-video-2,
    #project-video-3,
    #project-video-4{
      transform: none;
      object-position: center center;
    }

    .project-info { padding: 1.6rem 1.6rem 1.7rem; }

    .project-header{
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
      margin-bottom: 0.45rem;
      flex-wrap: wrap;
    }

    .project-info h3 {
      font-size: 1.35rem;
      margin-bottom: 0;
    }

    .play-link{
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.55rem 1rem;
      border-radius: 999px;
      text-decoration: none;
      font-size: 0.9rem;
      font-weight: 700;
      letter-spacing: 0.4px;
      color: #fff;
      background: linear-gradient(45deg, rgba(120,120,120,0.28), rgba(170,170,170,0.18));
      border: 1px solid rgba(255,255,255,0.18);
      backdrop-filter: blur(10px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.22);
      transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease, background 0.2s ease;
    }

    .play-link:hover{
      transform: translateY(-2px);
      box-shadow: 0 12px 26px rgba(0,0,0,0.30);
      border-color: rgba(255,255,255,0.30);
      background: linear-gradient(45deg, rgba(145,145,145,0.34), rgba(210,210,210,0.20));
    }

    .play-link.is-hidden{
      display: none;
    }

    .project-role { color: #999; font-size: 0.95rem; margin-bottom: 0.9rem; font-style: italic; }
    .project-info p { color: #b0b0b0; line-height: 1.65; margin-bottom: 1rem; font-size: 1rem; }
    .project-tags { display: flex; gap: 0.55rem; flex-wrap: wrap; }
    .tag { background: rgba(255, 255, 255, 0.05); padding: 0.35rem 0.85rem; border-radius: 20px; font-size: 0.85rem; border: 1px solid rgba(255, 255, 255, 0.2); }

    .timeline-wrap{
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr;
      gap: 2.2rem;
    }

    .timeline-block{
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.10);
      border-radius: 18px;
      padding: 1.6rem 1.6rem;
      overflow: hidden;
    }

    .timeline-title{
      font-size: 1.35rem;
      margin-bottom: 1.15rem;
      letter-spacing: 0.2px;
      color: rgba(255,255,255,0.92);
      text-shadow: 0 0 12px rgba(255,255,255,0.08);
    }

    .timeline-list{
      display: grid;
      grid-template-columns: 1fr;
      gap: 1rem;
    }

    .timeline-item{
      display: grid;
      grid-template-columns: 92px 1fr;
      gap: 16px;
      align-items: center;
      padding: 18px 18px;
      border-radius: 16px;
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(255,255,255,0.10);
      transition: transform 0.2s, border-color 0.2s, background 0.2s;
    }
    .timeline-item:hover{
      transform: translateY(-2px);
      background: rgba(255,255,255,0.058);
      border-color: rgba(255,255,255,0.18);
    }

    .timeline-logo{
      width: 92px;
      height: 92px;
      border-radius: 18px;
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.12);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .timeline-logo img{
      width: 145%;
      height: 145%;
      object-fit: contain;
      display: block;
      padding: 6px;
      background: #ffffff;
      border-radius: 14px;
      image-rendering: -webkit-optimize-contrast;
      transform: translateZ(0);
    }

    .timeline-main{
      display: flex;
      flex-direction: column;
      gap: 6px;
      min-width: 0;
    }

    .timeline-top{
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      min-width: 0;
    }

    .timeline-name{
      font-size: 1.05rem;
      font-weight: 800;
      color: rgba(255,255,255,0.95);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .timeline-date{
      font-size: 0.85rem;
      font-weight: 800;
      color: rgba(255,255,255,0.92);
      background: rgba(0,0,0,0.30);
      border: 1px solid rgba(255,255,255,0.10);
      padding: 6px 10px;
      border-radius: 999px;
      white-space: nowrap;
      flex: 0 0 auto;
    }

    .timeline-sub{
      font-size: 0.95rem;
      color: rgba(204,204,204,0.92);
      font-weight: 700;
      line-height: 1.25;
    }

    .timeline-location{
      font-size: 0.9rem;
      color: rgba(220,220,220,0.72);
      line-height: 1.3;
      font-weight: 600;
    }

    .timeline-desc{
      font-size: 0.95rem;
      color: rgba(176,176,176,0.95);
      line-height: 1.5;
    }

    .contact {
      width: 100%;
      text-align: center;
      background: rgba(255, 255, 255, 0.03);
      padding: 4rem 2rem;
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    .contact-links { display:flex; justify-content:center; gap: 2rem; margin-top: 2rem; flex-wrap: wrap; }
    .contact-link {
      padding: 1rem 2rem;
      background: rgba(255, 255, 255, 0.05);
      border: 2px solid #888888;
      color: #cccccc;
      text-decoration: none;
      border-radius: 10px;
      transition: all 0.2s;
      font-weight: bold;
      display: inline-flex;
      align-items: center;
      gap: 10px;
    }
    .contact-link:hover { background: #888888; color:#0a0a0a; transform: translateY(-2px); }

    .contact-link .icon{
      width: 22px;
      height: 22px;
      flex: 0 0 auto;
      display: block;
    }
    .contact-link svg.icon{ fill: currentColor; }

    .contact-link .itch-icon{
      width: 24px;
      height: 24px;
      display: block;
      flex: 0 0 auto;
      background: currentColor;
      -webkit-mask: url("assets/icons/itch-io-icon.png") center / contain no-repeat;
      mask: url("assets/icons/itch-io-icon.png") center / contain no-repeat;
    }

    footer {
      width: 100%;
      text-align: center;
      padding: 2rem var(--side-pad);
      margin-top: 3rem;
      color: #666;
    }

    .reveal { opacity: 0; transform: translateY(40px); transition: all 0.55s ease; }
    .reveal.active { opacity: 1; transform: translateY(0); }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(26px); } to { opacity: 1; transform: translateY(0); } }

    @media (max-width: 768px) {
      .hero h1 { font-size: 2.5rem; }
      nav { display: none; }
      .hero { cursor: auto; padding-top: 120px; }

      .score-hud{ top: 71px; padding: 9px 14px; }
      .score-text{ font-size: 0.9rem; }

      .project-image{
        height: 420px;
      }

      .project-header{
        align-items: flex-start;
      }
    }

    @media (max-width: 640px){
      .timeline-item{ grid-template-columns: 76px 1fr; padding: 16px 16px; }
      .timeline-logo{ width: 76px; height: 76px; border-radius: 16px; }
      .timeline-logo img{ width: 112%; height: 112%; padding: 6px; border-radius: 12px; }
      .timeline-top{ flex-direction: column; align-items: flex-start; gap: 6px; }
    }

    @media (prefers-reduced-motion: reduce) {
      .drift-a, .drift-b, .drift-c,
      .black-hole, .black-hole::after, .bh-flow {
        animation: none !important;
      }
    }
  </style>
</head>

<body>
  <canvas id="starfield"></canvas>

  <div class="space-layer" id="space-layer">
    <div id="planets-host"></div>
    <div id="bg-blackhole-host"></div>
  </div>

  <header id="site-header">
    <div class="logo">Game Developer</div>
    <nav>
      <a href="#projects">Projects</a>
      <a href="#skills">Background</a>
      <a href="#contact">Contact</a>
    </nav>
  </header>

  <section class="hero" id="hero">
    <div class="score-hud" id="score-hud">
      <span class="score-dot"></span>
      <div class="score-text" id="score-text"><strong>Score:</strong> 0 / 12</div>
    </div>

    <div class="playfield" id="playfield"></div>

    <div class="cursor-bh" id="cursor-bh">
      <div class="black-hole">
        <div class="bh-flow"></div>
      </div>
    </div>

    <div class="hero-content">
      <h1>Yavuz Alp Bilen</h1>
      <p class="subtitle">Game Developer & Game Designer</p>
      <p class="specialization">Specializing in Environment & Level Design</p>
      <div class="tools">
        <div class="tool-badge"><span>üéÆ</span><span>Unity</span></div>
        <div class="tool-badge"><span>‚ö°</span><span>Unreal Engine</span></div>
      </div>
      <a href="#projects" class="cta-button">View My Projects</a>
    </div>
  </section>

  <section id="projects">
    <h2>Projects</h2>
    <div class="projects-grid">
      <!-- PROJECT 1 HIDDEN TEMPORARILY -->
      <div class="project-card reveal is-hidden">
        <div class="project-image" style="background: linear-gradient(135deg, #4a4a4a 0%, #2a2a2a 100%);">üèôÔ∏è</div>
        <div class="project-info">
          <div class="project-header">
            <h3>Kingdom of Vurnal</h3>
            <a href="#" class="play-link">PLAY</a>
          </div>
          <div class="project-role">Gameplay Developer & Level Designer</div>
          <p>In this strategic rogue-like card-based tower defense game, you expand your kingdom while defending against enemy waves, adapting your strategy to different threats. I designed and developed everything from the core gameplay loop, level layouts, difficulty balancing, and kingdom progression systems as a solo project.</p>
          <div class="project-tags">
            <span class="tag">Unity</span>
            <span class="tag">Rogue-like</span>
            <span class="tag">Card Game</span>
            <span class="tag">Gameplay</span>
            <span class="tag">Level Design</span>
            <span class="tag">Solo Project</span>
          </div>
        </div>
      </div>

      <div class="project-card reveal">
        <div class="project-image">
          <video id="project-video-2" muted autoplay loop playsinline webkit-playsinline preload="auto">
            <source src="./assets/icons/video2.mp4" type="video/mp4">
          </video>
        </div>
        <div class="project-info">
          <div class="project-header">
            <h3>Ecdysis</h3>
            <a href="https://futuregames.itch.io/ecdysis" class="play-link" target="_blank" rel="noopener">PLAY</a>
          </div>
          <div class="project-role">Gameplay Developer & Level Designer & Environment</div>
          <p>In this 2.5D action platformer, you defeat enemies, consume their skills, and evolve to progress through new biomes. I led the core game loop and combat design, but primarily focused on level and environment design‚Äîplacing enemies, balancing encounters, and shaping biomes so players naturally navigate and evolve through each stage.</p>
          <div class="project-tags">
            <span class="tag">Unity</span>
            <span class="tag">Side-Scroller</span>
            <span class="tag">Unity Development</span>
            <span class="tag">Level Design</span>
            <span class="tag">Environment</span>
            <span class="tag">Combat Design</span>
          </div>
        </div>
      </div>

      <div class="project-card reveal">
        <div class="project-image">
          <video id="project-video-3" muted autoplay loop playsinline webkit-playsinline preload="auto">
            <source src="./assets/icons/video3.mp4" type="video/mp4">
          </video>
        </div>
        <div class="project-info">
          <div class="project-header">
            <h3>Project Trash</h3>
            <a href="https://futuregames.itch.io/projecttrash" class="play-link" target="_blank" rel="noopener">PLAY</a>
          </div>
          <div class="project-role">Gameplay Developer & Level Designer</div>
          <p>In this arcade-style recycling game, you quickly sort and throw six types of waste into the correct bins, aiming for a high score. I designed the core gameplay concept, factory layout, and scoring system, and also contributed to coding the object sorting, scoring logic, and some hand movement mechanics.</p>
          <div class="project-tags">
            <span class="tag">Unity</span>
            <span class="tag">Arcade</span>
            <span class="tag">Unity Development</span>
            <span class="tag">Gameplay Development</span>
            <span class="tag">Level Design</span>
            <span class="tag">Environment</span>
          </div>
        </div>
      </div>

      <div class="project-card reveal">
        <div class="project-image">
          <video id="project-video-4" muted autoplay loop playsinline webkit-playsinline preload="auto">
            <source src="./assets/icons/video4.mp4" type="video/mp4">
          </video>
        </div>
        <div class="project-info">
          <div class="project-header">
            <h3>ZUS Life Run</h3>
            <a href="#" class="play-link is-hidden">PLAY</a>
          </div>
          <div class="project-role">Gameplay Developer & Level Designer</div>
          <p>In this mobile game for ZUS Insurance, you guide a character‚Äôs life from childhood to old age, balancing six stats through swiped decisions. I designed the narrative events and their stat effects, along with the core swiping mechanic linking choices to stats.</p>
          <div class="project-tags">
            <span class="tag">Unity</span>
            <span class="tag">Decision-Making</span>
            <span class="tag">Unity Development</span>
            <span class="tag">Gameplay Development</span>
            <span class="tag">Level Design</span>
            <span class="tag">Gameplay</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="skills">
    <h2>Background</h2>

    <div class="timeline-wrap">
      <div class="timeline-block reveal">
        <div class="timeline-title">Education</div>
        <div class="timeline-list">
          <div class="timeline-item">
            <div class="timeline-logo">
              <img src="assets/icons/cd5.jpg" alt="CD Projekt RED x Futuregames">
            </div>
            <div class="timeline-main">
              <div class="timeline-top">
                <div class="timeline-name">CD Projekt RED x Futuregames</div>
                <div class="timeline-date">2024‚Äì2026</div>
              </div>
              <div class="timeline-sub">Game Design</div>
              <div class="timeline-location">Warsaw, Poland</div>
              <div class="timeline-desc">
                Game Development &amp; Game Design training with a specialization in Level Design‚Äîfocused on player flow, encounter design, and building readable, engaging spaces.
              </div>
            </div>
          </div>

          <div class="timeline-item">
            <div class="timeline-logo">
              <img src="assets/icons/logo_11.jpg" alt="Atƒ±lƒ±m University">
            </div>
            <div class="timeline-main">
              <div class="timeline-top">
                <div class="timeline-name">Atƒ±lƒ±m University</div>
                <div class="timeline-date">2017‚Äì2022</div>
              </div>
              <div class="timeline-sub">Computer Engineering</div>
              <div class="timeline-location">Ankara, Turkey</div>
              <div class="timeline-desc">
                Strong engineering foundation in software development, algorithms, and problem-solving‚Äîsupporting robust design decisions and technical collaboration.
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="timeline-block reveal">
        <div class="timeline-title">Experience</div>
        <div class="timeline-list">
          <div class="timeline-item">
            <div class="timeline-logo">
              <img src="assets/icons/exp1.png" alt="Outlier">
            </div>
            <div class="timeline-main">
              <div class="timeline-top">
                <div class="timeline-name">Outlier</div>
                <div class="timeline-date">‚Äî</div>
              </div>
              <div class="timeline-sub">AI Developer</div>
              <div class="timeline-location">Remote</div>
            </div>
          </div>

          <div class="timeline-item">
            <div class="timeline-logo">
              <img src="assets/icons/exp2.png" alt="Ert√ºrkler A.≈û.">
            </div>
            <div class="timeline-main">
              <div class="timeline-top">
                <div class="timeline-name">Ert√ºrkler A.≈û.</div>
                <div class="timeline-date">‚Äî</div>
              </div>
              <div class="timeline-sub">Software Engineer</div>
              <div class="timeline-location">Istanbul, Turkey</div>
            </div>
          </div>

          <div class="timeline-item">
            <div class="timeline-logo">
              <img src="assets/icons/exp3.jfif" alt="Dias Teknoloji">
            </div>
            <div class="timeline-main">
              <div class="timeline-top">
                <div class="timeline-name">Dias Teknoloji</div>
                <div class="timeline-date">‚Äî</div>
              </div>
              <div class="timeline-sub">Computer Engineer</div>
              <div class="timeline-location">Ankara, Turkey</div>
            </div>
          </div>

          <div class="timeline-item">
            <div class="timeline-logo">
              <img src="assets/icons/exp4.jfif" alt="DNS ƒ∞novasyon Sistemleri ve Teknoloji A.≈û.">
            </div>
            <div class="timeline-main">
              <div class="timeline-top">
                <div class="timeline-name">DNS ƒ∞novasyon Sistemleri ve Teknoloji A.≈û.</div>
                <div class="timeline-date">‚Äî</div>
              </div>
              <div class="timeline-sub">Computer Engineer</div>
              <div class="timeline-location">Istanbul, Turkey</div>
            </div>
          </div>

          <div class="timeline-item">
            <div class="timeline-logo">
              <img src="assets/icons/exp5.jfif" alt="Infopark Yazƒ±lƒ±m ve Danƒ±≈ümanlƒ±k">
            </div>
            <div class="timeline-main">
              <div class="timeline-top">
                <div class="timeline-name">Infopark Yazƒ±lƒ±m ve Danƒ±≈ümanlƒ±k</div>
                <div class="timeline-date">‚Äî</div>
              </div>
              <div class="timeline-sub">Software Engineer</div>
              <div class="timeline-location">Ankara, Turkey</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div id="contact">
    <section class="contact reveal">
      <h2>Let's Create Something Amazing</h2>
      <p style="font-size: 1.2rem; margin-bottom: 1rem;">Available for relevant roles.</p>

      <div class="contact-links">
        <a href="https://github.com/yavuzalpbilen" class="contact-link" target="_blank" rel="noopener">
          <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M12 .5C5.73.5.75 5.67.75 12.08c0 5.12 3.29 9.46 7.86 11 .58.11.79-.26.79-.57v-2.02c-3.2.71-3.87-1.58-3.87-1.58-.52-1.36-1.27-1.72-1.27-1.72-1.04-.74.08-.73.08-.73 1.15.08 1.76 1.22 1.76 1.22 1.02 1.8 2.67 1.28 3.32.98.1-.76.4-1.28.72-1.58-2.55-.3-5.24-1.31-5.24-5.84 0-1.29.45-2.35 1.18-3.18-.12-.3-.51-1.53.11-3.18 0 0 .97-.32 3.18 1.21a10.7 10.7 0 0 1 2.9-.4c.98 0 1.97.14 2.9.4 2.2-1.53 3.18-1.21 3.18-1.21.62 1.65.23 2.88.11 3.18.74.83 1.18 1.89 1.18 3.18 0 4.54-2.7 5.54-5.27 5.83.41.36.78 1.08.78 2.18v3.23c0 .32.2.69.8.57 4.56-1.54 7.85-5.88 7.85-11C23.25 5.67 18.27.5 12 .5z"/>
          </svg>
          GitHub
        </a>

        <a href="https://www.linkedin.com/in/yavuz-a-9243211a4/" class="contact-link" target="_blank" rel="noopener">
          <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M20.45 20.45h-3.56v-5.57c0-1.33-.03-3.05-1.86-3.05-1.86 0-2.14 1.45-2.14 2.95v5.67H9.33V9h3.42v1.56h.05c.48-.9 1.64-1.86 3.36-1.86 3.59 0 4.25 2.37 4.25 5.45v6.3zM5.34 7.43a2.07 2.07 0 1 1 0-4.14 2.07 2.07 0 0 1 0 4.14zM7.12 20.45H3.56V9h3.56v11.45zM22.23 0H1.77C.79 0 0 .78 0 1.74v20.52C0 23.22.79 24 1.77 24h20.46c.98 0 1.77-.78 1.77-1.74V1.74C24 .78 23.21 0 22.23 0z"/>
          </svg>
          LinkedIn
        </a>

        <a href="https://yavuzalpbilen.itch.io/" class="contact-link" target="_blank" rel="noopener">
          <span class="icon itch-icon" aria-hidden="true"></span>
          itch.io
        </a>

        <a href="#" class="contact-link">
          <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm1 7V3.5L19.5 9H15z"/>
            <path d="M8 12h8v2H8zm0 4h8v2H8z"/>
          </svg>
          CV
        </a>
      </div>
    </section>
  </div>

  <footer>
    <p>&copy; 2025 Game Designer Portfolio. Crafted with passion for games.</p>
  </footer>

  <script>
    (function () {
      if (window.__SPACE_CLEANUP__) {
        try { window.__SPACE_CLEANUP__(); } catch (e) {}
      }

      const root = document.documentElement;
      const playfield = document.getElementById('playfield');
      const hero = document.getElementById('hero');
      const planetsHost = document.getElementById('planets-host');
      const bgBHHost = document.getElementById('bg-blackhole-host');

      if (planetsHost) planetsHost.innerHTML = '';
      if (bgBHHost) bgBHHost.innerHTML = '';
      if (playfield) playfield.innerHTML = '';

      function clamp(v, a, b) { return Math.max(a, Math.min(b, v)); }
      function updatePlayfieldWidth() {
        const vw = window.innerWidth;
        const vh = window.innerHeight;
        const aspect = vw / Math.max(1, vh);
        const factor = clamp(1.65 + (aspect - 0.7) * 0.75, 1.65, 2.85);
        const pfw = Math.round(vw * factor);
        root.style.setProperty('--pfw', pfw + 'px');
      }
      updatePlayfieldWidth();

      const TOTAL_SCORE = 12;
      let score = 0;
      const scoreTextEl = document.getElementById('score-text');
      function updateScoreUI() {
        if (!scoreTextEl) return;
        scoreTextEl.innerHTML = `<strong>Score:</strong> ${score} / ${TOTAL_SCORE}`;
      }
      updateScoreUI();

      let canvas = document.getElementById('starfield');
      let ctx = canvas.getContext('2d', { alpha: true });

      let W = 0, H = 0, DPR = 1;
      let stars = [];
      let twinklePhase = 0;
      let g1 = null, g2 = null;

      function resizeCanvas() {
        DPR = Math.min(1.75, window.devicePixelRatio || 1);
        W = Math.floor(window.innerWidth);
        H = Math.floor(window.innerHeight);

        canvas.width = Math.floor(W * DPR);
        canvas.height = Math.floor(H * DPR);
        canvas.style.width = W + 'px';
        canvas.style.height = H + 'px';

        ctx.setTransform(DPR, 0, 0, DPR, 0, 0);

        const count = Math.floor((W * H) / 8000);
        stars = new Array(count).fill(0).map(() => ({
          x: Math.random() * W,
          y: Math.random() * H,
          r: Math.random() < 0.10 ? 1.7 : (Math.random() < 0.35 ? 1.15 : 0.9),
          a: Math.random() * 0.55 + 0.18,
          t: Math.random() * Math.PI * 2
        }));

        g1 = ctx.createRadialGradient(W*0.28, H*0.30, 0, W*0.28, H*0.30, Math.max(W,H)*0.75);
        g1.addColorStop(0, 'rgba(120,150,210,0.05)');
        g1.addColorStop(1, 'rgba(0,0,0,0)');

        g2 = ctx.createRadialGradient(W*0.75, H*0.62, 0, W*0.75, H*0.62, Math.max(W,H)*0.75);
        g2.addColorStop(0, 'rgba(80,100,140,0.04)');
        g2.addColorStop(1, 'rgba(0,0,0,0)');

        drawStars(0);
      }

      function drawStars(dt) {
        ctx.clearRect(0, 0, W, H);

        if (g1) { ctx.globalAlpha = 1; ctx.fillStyle = g1; ctx.fillRect(0,0,W,H); }
        if (g2) { ctx.globalAlpha = 1; ctx.fillStyle = g2; ctx.fillRect(0,0,W,H); }

        twinklePhase += dt * 0.8;

        ctx.fillStyle = '#ffffff';
        for (let i = 0; i < stars.length; i++) {
          const s = stars[i];
          const tw = 0.35 + 0.65 * (0.5 + 0.5 * Math.sin(twinklePhase + s.t));
          ctx.globalAlpha = s.a * tw;
          ctx.beginPath();
          ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
          ctx.fill();
        }
        ctx.globalAlpha = 1;
      }

      resizeCanvas();

      function makePlanet({ top, left, right, bottom, size, gradient, drift, opacity }) {
        const p = document.createElement('div');
        p.className = `planet ${drift || 'drift-a'}`;
        p.style.width = size + 'px';
        p.style.height = size + 'px';
        p.style.background = gradient;
        p.style.opacity = opacity ?? 0.75;

        if (top != null) p.style.top = top;
        if (left != null) p.style.left = left;
        if (right != null) p.style.right = right;
        if (bottom != null) p.style.bottom = bottom;

        const atm = document.createElement('div');
        atm.className = 'atm';
        const shade = document.createElement('div');
        shade.className = 'shade';

        p.appendChild(atm);
        p.appendChild(shade);
        planetsHost.appendChild(p);
      }

      makePlanet({
        top: '-90px', right: '-120px',
        size: 360, opacity: 0.40, drift: 'drift-b',
        gradient: `radial-gradient(circle at 35% 30%,
          rgba(255,255,255,0.10) 0%,
          rgba(120,150,210,0.10) 18%,
          rgba(55,75,115,0.30) 52%,
          rgba(14,18,34,0.92) 82%,
          rgba(6,7,12,1) 100%)`
      });

      makePlanet({
        top: '28%', left: '-210px',
        size: 430, opacity: 0.52, drift: 'drift-a',
        gradient: `radial-gradient(circle at 30% 25%,
          rgba(255,255,255,0.10) 0%,
          rgba(160,175,200,0.08) 18%,
          rgba(70,80,95,0.28) 52%,
          rgba(14,16,22,0.95) 82%,
          rgba(6,7,10,1) 100%)`
      });

      makePlanet({
        top: '62%', right: '9%',
        size: 260, opacity: 0.38, drift: 'drift-c',
        gradient: `radial-gradient(circle at 35% 30%,
          rgba(255,255,255,0.08) 0%,
          rgba(120,140,175,0.08) 22%,
          rgba(45,60,85,0.22) 58%,
          rgba(12,14,22,0.95) 84%,
          rgba(6,7,12,1) 100%)`
      });

      function createBlackHole({ top, left, right, bottom, size }) {
        const container = document.createElement('div');
        container.className = 'black-hole-container';
        if (top != null) container.style.top = top;
        if (left != null) container.style.left = left;
        if (right != null) container.style.right = right;
        if (bottom != null) container.style.bottom = bottom;

        const bh = document.createElement('div');
        bh.className = 'black-hole';
        bh.style.width = size + 'px';
        bh.style.height = size + 'px';

        const flow = document.createElement('div');
        flow.className = 'bh-flow';
        bh.appendChild(flow);

        container.appendChild(bh);
        bgBHHost.appendChild(container);
      }
      createBlackHole({ top: '36%', right: '12%', size: 165 });

      const cursorBH = document.getElementById('cursor-bh');
      let mouseInHero = false;
      let mouseX = 0, mouseY = 0;

      function setCursorBH(x, y) {
        cursorBH.style.left = x + 'px';
        cursorBH.style.top = y + 'px';
      }
      function onHeroEnter() { mouseInHero = true; cursorBH.classList.add('active'); }
      function onHeroLeave() { mouseInHero = false; cursorBH.classList.remove('active'); }
      function onHeroMove(e) {
        const rect = hero.getBoundingClientRect();
        mouseX = e.clientX - rect.left;
        mouseY = e.clientY - rect.top;
        setCursorBH(mouseX, mouseY);
      }
      hero.addEventListener('mouseenter', onHeroEnter);
      hero.addEventListener('mouseleave', onHeroLeave);
      hero.addEventListener('mousemove', onHeroMove);

      const spaceshipSVG = `
        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <path d="M 15 50 L 35 42 L 50 38 L 65 42 L 80 50 L 65 58 L 50 62 L 35 58 Z"
                fill="url(#centerBody)" stroke="#0a0a0a" stroke-width="1.5"/>
          <path d="M 50 38 L 35 26 L 23 21 L 20 24 L 25 31 L 37 36 L 50 41 Z"
                fill="url(#wingGradient)" stroke="#0a0a0a" stroke-width="1.5"/>
          <path d="M 50 62 L 35 74 L 23 79 L 20 76 L 25 69 L 37 64 L 50 59 Z"
                fill="url(#wingGradient)" stroke="#0a0a0a" stroke-width="1.5"/>
          <ellipse cx="68" cy="48" rx="4" ry="2.5" fill="rgba(40, 80, 120, 0.7)" stroke="#1a1a1a" stroke-width="0.8"/>
          <ellipse cx="68" cy="52" rx="4" ry="2.5" fill="rgba(40, 80, 120, 0.7)" stroke="#1a1a1a" stroke-width="0.8"/>
          <rect x="18" y="46" width="10" height="2.5" rx="1" fill="#0a0a0a" opacity="0.7"/>
          <rect x="18" y="51.5" width="10" height="2.5" rx="1" fill="#0a0a0a" opacity="0.7"/>
          <ellipse cx="22" cy="47" rx="6" ry="2" fill="#3070a0" opacity="0.75">
            <animate attributeName="opacity" values="0.5;0.85;0.5" dur="0.25s" repeatCount="indefinite"/>
          </ellipse>
          <ellipse cx="22" cy="53" rx="6" ry="2" fill="#3070a0" opacity="0.75">
            <animate attributeName="opacity" values="0.5;0.85;0.5" dur="0.25s" repeatCount="indefinite"/>
          </ellipse>
          <defs>
            <radialGradient id="centerBody" cx="60%" cy="50%">
              <stop offset="0%" style="stop-color:#2a2a2a;stop-opacity:1" />
              <stop offset="50%" style="stop-color:#1a1a1a;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#0a0a0a;stop-opacity:1" />
            </radialGradient>
            <linearGradient id="wingGradient" x1="100%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" style="stop-color:#2a2a2a;stop-opacity:1" />
              <stop offset="50%" style="stop-color:#1a1a1a;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#0a0a0a;stop-opacity:1" />
            </linearGradient>
          </defs>
        </svg>
      `;

      const asteroidSVG = `
        <svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <radialGradient id="rock" cx="35%" cy="30%">
              <stop offset="0%" stop-color="#6a6a6a" stop-opacity="1"/>
              <stop offset="55%" stop-color="#3f3f3f" stop-opacity="1"/>
              <stop offset="100%" stop-color="#1a1a1a" stop-opacity="1"/>
            </radialGradient>
          </defs>
          <path d="M30,18 C48,7 78,10 95,30
                   C110,48 108,78 92,95
                   C74,112 45,112 25,95
                   C7,78 10,45 30,18 Z"
                fill="url(#rock)" stroke="#0e0e0e" stroke-width="3"/>
          <path d="M42,35 C55,24 78,28 86,42
                   C95,55 92,72 80,82
                   C66,94 48,90 38,78
                   C28,66 30,46 42,35 Z"
                fill="rgba(0,0,0,0.18)"/>
        </svg>
      `;

      const objects = [];
      function rand(min, max) { return min + Math.random() * (max - min); }

      function getPlayBounds() {
        const w = playfield.clientWidth;
        const h = playfield.clientHeight;
        return { minX: 0, maxX: w, minY: 0, maxY: h };
      }

      function getClusterBounds() {
        const b = getPlayBounds();
        const cx = b.maxX * 0.50;
        const cy = b.maxY * 0.52;

        const baseW = Math.min(520, Math.max(260, window.innerWidth * 0.40));
        const baseH = Math.min(360, Math.max(200, window.innerHeight * 0.34));

        const mul = 2.25;
        const cw = Math.min(b.maxX * 0.82, baseW * mul);
        const ch = Math.min(b.maxY * 0.75, baseH * mul);

        return {
          minX: cx - cw / 2,
          maxX: cx + cw / 2,
          minY: cy - ch / 2,
          maxY: cy + ch / 2
        };
      }

      function initObject(obj) {
        obj.dead = false;
        obj.captured = false;
        obj.captureT = 0;
        obj.scored = false;

        const c = getClusterBounds();

        obj.x = rand(c.minX, c.maxX);
        obj.y = rand(c.minY, c.maxY);

        const speed = obj.type === 'ship' ? rand(0.35, 0.70) : rand(0.30, 0.65);
        const ang = rand(0, Math.PI * 2);
        obj.vx = Math.cos(ang) * speed;
        obj.vy = Math.sin(ang) * speed;

        obj.rot = rand(0, 360);
        obj.rotSpeed = obj.type === 'ship' ? rand(-0.08, 0.08) : rand(-0.10, 0.10);

        obj.drift = rand(0.5, 1.2);
        obj.wobbleSpeed = rand(0.10, 0.16);
        obj.wobblePhase = rand(0, Math.PI * 2);

        obj.opacity = obj.type === 'ship' ? 0.92 : 0.86;
        obj.scale = 1;

        obj.el.style.opacity = obj.opacity;
        obj.el.style.left = obj.x + 'px';
        obj.el.style.top = obj.y + 'px';
        obj.el.style.transform = `rotate(${obj.rot}deg)`;
      }

      function createShip() {
        const el = document.createElement('div');
        el.className = 'spaceship';
        el.innerHTML = spaceshipSVG;

        const trail = document.createElement('div');
        trail.className = 'trail';
        el.appendChild(trail);

        playfield.appendChild(el);
        const obj = { type: 'ship', el };
        objects.push(obj);
        initObject(obj);
      }

      function createAsteroid() {
        const el = document.createElement('div');
        el.className = 'asteroid';
        el.innerHTML = asteroidSVG;

        const size = rand(28, 54);
        el.style.width = size + 'px';
        el.style.height = size + 'px';

        playfield.appendChild(el);
        const obj = { type: 'asteroid', el };
        objects.push(obj);
        initObject(obj);
      }

      for (let i = 0; i < 6; i++) createShip();
      for (let i = 0; i < 6; i++) createAsteroid();

      function wrapCluster(o) {
        const c = getClusterBounds();
        const m = 50;

        if (o.x < c.minX - m) o.x = c.maxX + m;
        if (o.x > c.maxX + m) o.x = c.minX - m;
        if (o.y < c.minY - m) o.y = c.maxY + m;
        if (o.y > c.maxY + m) o.y = c.minY - m;
      }

      let running = true;
      let rafId = 0;

      document.addEventListener('visibilitychange', () => {
        running = !document.hidden;
        last = performance.now();
        lastStar = performance.now();
        acc = 0;
        starAcc = 0;
      });

      let last = performance.now();
      let acc = 0;
      let lastStar = performance.now();
      let starAcc = 0;
      const STAR_STEP = 1 / 20;

      function loop(now) {
        rafId = requestAnimationFrame(loop);
        if (!running) return;

        const dtStar = Math.min(0.05, (now - lastStar) / 1000);
        lastStar = now;
        starAcc += dtStar;
        if (starAcc >= STAR_STEP) {
          const steps = Math.floor(starAcc / STAR_STEP);
          const d = steps * STAR_STEP;
          starAcc -= d;
          drawStars(d);
        }

        const dt = Math.min(0.05, (now - last) / 1000);
        last = now;
        acc += dt;
        if (acc < (1 / 30)) return;
        const step = acc;
        acc = 0;

        const heroRect = hero.getBoundingClientRect();
        const playRect = playfield.getBoundingClientRect();

        const cursorWorldX = heroRect.left + mouseX;
        const cursorWorldY = heroRect.top + mouseY;
        const cursorInPlayX = cursorWorldX - playRect.left;
        const cursorInPlayY = cursorWorldY - playRect.top;

        const cursorRadius = 43;
        const tNow = now * 0.001;

        for (const o of objects) {
          if (o.dead) continue;

          if (o.captured) {
            o.captureT += step;
            const t = Math.min(1, o.captureT / 1.2);
            const ease = 1 - Math.pow(1 - t, 3);

            o.x = o.startX + (o.targetX - o.startX) * ease;
            o.y = o.startY + (o.targetY - o.startY) * ease;

            o.rot += 130 * step;
            o.scale = 1 - 0.86 * ease;
            o.opacity = 1 - 1.0 * ease;

            o.el.style.zIndex = 60;
            o.el.style.opacity = Math.max(0, o.opacity);
            o.el.style.left = o.x + 'px';
            o.el.style.top = o.y + 'px';
            o.el.style.transform = `rotate(${o.rot}deg) scale(${Math.max(0.05, o.scale)})`;

            if (t >= 1) { o.dead = true; o.el.remove(); }
            continue;
          }

          o.x += o.vx * step;
          o.y += o.vy * step;

          const wobble = Math.sin(tNow * (o.wobbleSpeed * 2 * Math.PI) + o.wobblePhase) * o.drift;
          wrapCluster(o);

          o.rot += o.rotSpeed * step * 60;

          o.el.style.left = (o.x + wobble * 0.7) + 'px';
          o.el.style.top  = (o.y + wobble * 0.5) + 'px';
          o.el.style.transform = `rotate(${o.rot}deg)`;

          if (mouseInHero && score < TOTAL_SCORE) {
            const cx = o.x + 28;
            const cy = o.y + 28;

            if (Math.hypot(cx - cursorInPlayX, cy - cursorInPlayY) < cursorRadius * 1.05) {
              if (!o.scored && score < TOTAL_SCORE) {
                o.scored = true;
                score++;
                updateScoreUI();
              }

              o.captured = true;
              o.captureT = 0;
              o.startX = o.x;
              o.startY = o.y;
              o.targetX = cursorInPlayX - 28;
              o.targetY = cursorInPlayY - 28;
            }
          }
        }
      }
      rafId = requestAnimationFrame(loop);

      function onResize() { resizeCanvas(); updatePlayfieldWidth(); }
      window.addEventListener('resize', onResize, { passive: true });

      window.addEventListener('scroll', () => {
        const header = document.getElementById('site-header');
        if (window.scrollY > 100) {
          header.style.background = 'rgba(10, 10, 10, 0.92)';
          header.style.boxShadow = '0 5px 18px rgba(0, 0, 0, 0.55)';
        } else {
          header.style.background = 'rgba(10, 10, 10, 0.65)';
          header.style.boxShadow = 'none';
        }
      }, { passive: true });

      const reveals = document.querySelectorAll('.reveal');
      const revealOnScroll = () => {
        reveals.forEach(el => {
          const top = el.getBoundingClientRect().top;
          if (top < innerHeight - 100) el.classList.add('active');
        });
      };
      window.addEventListener('scroll', revealOnScroll, { passive: true });
      revealOnScroll();

      const projectVideos = [
        document.getElementById('project-video-2'),
        document.getElementById('project-video-3'),
        document.getElementById('project-video-4')
      ].filter(Boolean);

      const tryPlayAllProjectVideos = () => {
        projectVideos.forEach(v => {
          v.muted = true;
          v.defaultMuted = true;
          const pr = v.play();
          if (pr && typeof pr.catch === 'function') pr.catch(() => {});
        });
      };

      tryPlayAllProjectVideos();
      ['click', 'touchstart', 'keydown'].forEach(evt => {
        window.addEventListener(evt, tryPlayAllProjectVideos, { once: true, passive: true });
      });

      let cleaned = false;
      function cleanup() {
        if (cleaned) return;
        cleaned = true;

        try { cancelAnimationFrame(rafId); } catch (e) {}

        try {
          hero.removeEventListener('mouseenter', onHeroEnter);
          hero.removeEventListener('mouseleave', onHeroLeave);
          hero.removeEventListener('mousemove', onHeroMove);
        } catch (e) {}

        try { window.removeEventListener('resize', onResize); } catch (e) {}
        try { window.removeEventListener('scroll', revealOnScroll); } catch (e) {}

        try { if (playfield) playfield.innerHTML = ''; } catch (e) {}

        try {
          stars = [];
          g1 = null; g2 = null;
          if (ctx) { ctx.setTransform(1,0,0,1,0,0); }
          if (canvas) {
            canvas.width = 0; canvas.height = 0;
            canvas.remove();
          }
          ctx = null;
          canvas = null;
        } catch (e) {}

        try { objects.length = 0; } catch (e) {}

        try { delete window.__SPACE_CLEANUP__; } catch (e) {}
      }

      window.addEventListener('pagehide', cleanup, { passive: true });
      window.addEventListener('beforeunload', cleanup, { passive: true });
      window.addEventListener('unload', cleanup, { passive: true });

      window.__SPACE_CLEANUP__ = cleanup;

      document.querySelectorAll('a[href^="#"]').forEach(a => {
        a.addEventListener('click', (e) => {
          e.preventDefault();
          const target = document.querySelector(a.getAttribute('href'));
          if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        });
      });
    })();
  </script>
</body>
</html>
